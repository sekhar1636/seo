/**!
 * MixItUp Pagination v3.1.0
 * Client-side pagination for filtered and sorted content
 * Build 711931d2-1c97-436e-9b4a-fdf09b7d9f8f
 *
 * Requires mixitup.js >= v^3.1.2
 *
 * @copyright Copyright 2014-2016 KunkaLabs Limited.
 * @author    KunkaLabs Limited.
 * @link      https://www.kunkalabs.com/mixitup-pagination/
 *
 * @license   Commercial use requires a commercial license.
 *            https://www.kunkalabs.com/mixitup-pagination/licenses/
 *
 *            Non-commercial use permitted under same terms as  license.
 *            http://creativecommons.org/licenses/by-nc/3.0/
 */
!function(a){"use strict";var t=function(a){var e=a.h;if(!a.CORE_VERSION||!e.compareVersions(t.REQUIRE_CORE_VERSION,a.CORE_VERSION))throw new Error("[MixItUp Pagination] MixItUp Pagination "+t.EXTENSION_VERSION+" requires at least MixItUp "+t.REQUIRE_CORE_VERSION);a.ConfigClassNames.registerAction("afterConstruct","pagination",function(){this.elementPager="control",this.elementPageList="page-list",this.elementPageStats="page-stats",this.modifierFirst="first",this.modifierLast="last",this.modifierPrev="prev",this.modifierNext="next",this.modifierTruncationMarker="truncation-marker"}),a.ConfigLoad.registerAction("afterConstruct","pagination",function(){this.page=1}),a.ConfigPagination=function(){this.generatePageList=!0,this.generatePageStats=!0,this.maintainActivePage=!0,this.loop=!1,this.hidePageListIfSinglePage=!1,this.hidePageStatsIfSinglePage=!1,this.limit=-1,this.maxPagers=5,e.seal(this)},a.ConfigRender.registerAction("afterConstruct","pagination",function(){this.pager=null,this.pageStats=null}),a.ConfigSelectors.registerAction("afterConstruct","pagination",function(){this.pageList=".mixitup-page-list",this.pageStats=".mixitup-page-stats"}),a.ConfigTemplates.registerAction("afterConstruct","pagination",function(){this.pager='<button type="button" class="${classNames}" data-page="${pageNumber}">${pageNumber}</button>',this.pagerPrev='<button type="button" class="${classNames}" data-page="prev">&laquo;</button>',this.pagerNext='<button type="button" class="${classNames}" data-page="next">&raquo;</button>',this.pagerTruncationMarker='<span class="${classNames}">&hellip;</span>',this.pageStats="${startPageAt} to ${endPageAt} of ${totalTargets}",this.pageStatsSingle="${startPageAt} of ${totalTargets}",this.pageStatsFail="None found"}),a.Config.registerAction("beforeConstruct","pagination",function(){this.pagination=new a.ConfigPagination}),a.ModelPager=function(){this.pageNumber=-1,this.classNames="",this.classList=[],this.isDisabled=!1,this.isPrev=!1,this.isNext=!1,this.isPageLink=!1,this.isTruncationMarker=!1,e.seal(this)},a.ModelPageStats=function(){this.startPageAt=-1,this.endPageAt=-1,this.totalTargets=-1,e.seal(this)},a.UiClassNames.registerAction("afterConstruct","pagination",function(){this.first="",this.last="",this.prev="",this.next="",this.first="",this.last="",this.truncated="",this.truncationMarker=""}),a.controlDefinitions.push(new a.ControlDefinition("pager","[data-page]",(!0),"pageList")),a.Control.registerFilter("commandsHandleClick","pagination",function(a,t){var i=this,n={},s="",o=-1,g=null,r=null,l=-1;if(!i.selector||"[data-page]"!==i.selector)return a;for(r=e.closestParent(t.target,i.selector,!0,i.bound[0].dom.document),l=0;g=i.bound[l];l++)n=a[l],!g.config.pagination||g.config.pagination.limit<0||g.config.pagination.limit===1/0?a[l]=null:!r||e.hasClass(r,g.classNamesPager.active)||e.hasClass(r,g.classNamesPager.disabled)?a[l]=null:(s=r.getAttribute("data-page"),"prev"===s?n.paginate="prev":"next"===s?n.paginate="next":o&&(n.paginate=parseInt(s)),g.lastClicked&&(g.lastClicked=r));return a}),a.CommandMultimix.registerAction("afterConstruct","pagination",function(){this.paginate=null}),a.CommandPaginate=function(){this.page=-1,this.limit=-1,this.action="",this.anchor=null,e.seal(this)},a.Operation.registerAction("afterConstruct","pagination",function(){this.startPagination=null,this.newPagination=null,this.startTotalPages=-1,this.newTotalPages=-1}),a.State.registerAction("afterConstruct","pagination",function(){this.activePagination=null,this.totalPages=-1}),a.MixerDom.registerAction("afterConstruct","pagination",function(){this.pageList=null,this.pageStats=null}),a.Mixer.registerAction("afterConstruct","pagination",function(){this.classNamesPager=new a.UiClassNames,this.classNamesPageList=new a.UiClassNames,this.classNamesPageStats=new a.UiClassNames}),a.Mixer.registerAction("afterAttach","pagination",function(){var a=this;a.config.pagination.limit<0||(a.classNamesPager.base=e.getClassname(a.config.classNames,"pager"),a.classNamesPager.active=e.getClassname(a.config.classNames,"pager",a.config.classNames.modifierActive),a.classNamesPager.disabled=e.getClassname(a.config.classNames,"pager",a.config.classNames.modifierDisabled),a.classNamesPager.first=e.getClassname(a.config.classNames,"pager",a.config.classNames.modifierFirst),a.classNamesPager.last=e.getClassname(a.config.classNames,"pager",a.config.classNames.modifierLast),a.classNamesPager.prev=e.getClassname(a.config.classNames,"pager",a.config.classNames.modifierPrev),a.classNamesPager.next=e.getClassname(a.config.classNames,"pager",a.config.classNames.modifierNext),a.classNamesPager.truncationMarker=e.getClassname(a.config.classNames,"pager",a.config.classNames.modifierTruncationMarker),a.classNamesPageList.base=e.getClassname(a.config.classNames,"page-list"),a.classNamesPageList.disabled=e.getClassname(a.config.classNames,"page-list",a.config.classNames.modifierDisabled),a.classNamesPageStats.base=e.getClassname(a.config.classNames,"page-stats"),a.classNamesPageStats.disabled=e.getClassname(a.config.classNames,"page-stats",a.config.classNames.modifierDisabled),a.config.pagination.generatePageList&&a.dom.pageList&&a.renderPageList(a.lastOperation),a.config.pagination.generatePageStats&&a.dom.pageStats&&a.renderPageStats(a.lastOperation))}),a.Mixer.registerFilter("operationGetInitialState","pagination",function(a,t){var e=this;return e.config.pagination.limit<0?a:(a.newPagination=t.activePagination,a)}),a.Mixer.registerFilter("stateGetInitialState","pagination",function(t){var e=this;return e.config.pagination.limit<0?t:(t.activePagination=new a.CommandPaginate,t.activePagination.page=e.config.load.page,t.activePagination.limit=e.config.pagination.limit,t)}),a.Mixer.registerAction("afterGetFinalMixData","pagination",function(){var a=this;a.config.pagination.limit<0||"number"==typeof a.config.pagination.maxPagers&&(a.config.pagination.maxPagers=Math.max(5,a.config.pagination.maxPagers))}),a.Mixer.registerAction("afterCacheDom","pagination",function(){var t=this,e=null;if(!(t.config.pagination.limit<0)&&t.config.pagination.generatePageList){switch(t.config.controls.scope){case"local":e=t.dom.container;break;case"global":e=t.dom.document;break;default:throw new Error(a.messages.ERROR_CONFIG_INVALID_CONTROLS_SCOPE)}t.dom.pageList=e.querySelector(t.config.selectors.pageList),t.dom.pageStats=e.querySelector(t.config.selectors.pageStats)}}),a.Mixer.registerFilter("stateBuildState","pagination",function(a,t){var e=this;return e.config.pagination.limit<0?a:(a.activePagination=t.newPagination,a.totalPages=t.newTotalPages,a)}),a.Mixer.registerFilter("instructionParseMultimixArgs","pagination",function(t){var e=this;return e.config.pagination.limit<0?t:(!t.command.paginate||t.command.paginate instanceof a.CommandPaginate||(t.command.paginate=e.parsePaginateArgs([t.command.paginate]).command),t)}),a.Mixer.registerAction("afterFilterOperation","pagination",function(a){var t=this,e=-1,i=-1,n=[],s=[],o=null,g=-1,r=-1;if(!(t.config.pagination.limit<0)){if(a.newTotalPages=a.newPagination.limit?Math.max(Math.ceil(a.matching.length/a.newPagination.limit),1):1,t.config.pagination.maintainActivePage&&(a.newPagination.page=a.newPagination.page>a.newTotalPages?a.newTotalPages:a.newPagination.page),t.config.pagination.limit=a.newPagination.limit,a.newPagination.anchor){for(r=0;(o=a.matching[r])&&o.dom.el!==a.newPagination.anchor;r++);e=r,i=r+a.newPagination.limit-1}else e=a.newPagination.limit*(a.newPagination.page-1),i=a.newPagination.limit*a.newPagination.page-1,isNaN(e)&&(e=0);if(!(a.newPagination.limit<0)){for(r=0;o=a.show[r];r++)r>=e&&r<=i?n.push(o):s.push(o);for(a.show=n,r=0;o=a.toHide[r];r++)o.isShown||(a.toHide.splice(r,1),o.isShown=!1,r--);for(r=0;o=s[r];r++)a.hide.push(o),(g=a.toShow.indexOf(o))>-1&&a.toShow.splice(g,1),o.isShown&&a.toHide.push(o)}}}),a.Mixer.registerFilter("operationUnmappedGetOperation","pagination",function(t,i){var n=this;return n.config.pagination.limit<0?t:(t.startState=n.state,t.startPagination=n.state.activePagination,t.startTotalPages=n.state.totalPages,t.newPagination=new a.CommandPaginate,t.newPagination.limit=t.startPagination.limit,t.newPagination.page=t.startPagination.page,i.paginate?n.parsePaginateCommand(i.paginate,t):(i.filter||i.sort)&&(e.extend(t.newPagination,t.startPagination),n.config.pagination.maintainActivePage?t.newPagination.page=n.state.activePagination.page:t.newPagination.page=1),t)}),a.Mixer.registerFilter("operationMappedGetOperation","pagination",function(a,t,e){var i=this;return i.config.pagination.limit<0?a:e?a:(i.config.pagination.generatePageList&&i.dom.pageList&&i.renderPageList(a),i.config.pagination.generatePageStats&&i.dom.pageStats&&i.renderPageStats(a),a)}),a.Mixer.extend({parsePaginateCommand:function(t,e){var i=this;if(t.page>-1){if(0===t.page)throw new Error(a.messages.ERROR_PAGINATE_INDEX_RANGE);e.newPagination.page=Math.max(1,Math.min(1/0,t.page))}else"next"===t.action?e.newPagination.page=i.getNextPage():"prev"===t.action?e.newPagination.page=i.getPrevPage():t.anchor&&(e.newPagination.anchor=t.anchor);t.limit>-1&&(e.newPagination.limit=t.limit),e.newPagination.limit!==e.startPagination.limit&&(e.newTotalPages=e.newPagination.limit?Math.max(Math.ceil(e.startState.matching.length/e.newPagination.limit),1):1),(e.newPagination.limit<=0||e.newPagination.limit===1/0)&&(e.newPagination.page=1)},getNextPage:function(){var a=this,t=-1;return t=a.state.activePagination.page+1,t>a.state.totalPages&&(t=a.config.pagination.loop?1:a.state.activePagination.page),t},getPrevPage:function(){var a=this,t=-1;return t=a.state.activePagination.page-1,t<1&&(t=a.config.pagination.loop?a.state.totalPages:a.state.activePagination.page),t},renderPageList:function(t){var i=this,n=-1,s="",o=[],g=null,r=null,l=[],c=!1,p=!1,m=null,P=null,f="",u=-1;if(t.newPagination.limit<0||t.newPagination.limit===1/0||t.newTotalPages<2&&i.config.pagination.hidePageListIfSinglePage)return i.dom.pageList.innerHTML="",void e.addClass(i.dom.pageList,i.classNamesPageList.disabled);for(n=t.newPagination.page-1,r="function"==typeof(r=i.config.render.pager)?r:null,i.config.pagination.maxPagers<1/0&&t.newTotalPages>i.config.pagination.maxPagers&&(l=i.getAllowedIndices(t)),g=new a.ModelPager,g.isPrev=!0,g.classList.push(i.classNamesPager.base,i.classNamesPager.prev),1!==t.newPagination.page||i.config.pagination.loop||(g.classList.push(i.classNamesPager.disabled),g.isDisabled=!0),g.classNames=g.classList.join(" "),s=r?r(g):e.template(i.config.templates.pagerPrev)(g),o.push(s),u=0;u<t.newTotalPages;u++)s=i.renderPager(u,t,l),s||u<n&&c||u>n&&p?s&&o.push(s):(g=new a.ModelPager,g.isTruncationMarker=!0,g.classList.push(i.classNamesPager.base,i.classNamesPager.truncationMarker),g.classNames=g.classList.join(" "),s=r?r(g):e.template(i.config.templates.pagerTruncationMarker)(g),o.push(s),u<n&&(c=!0),u>n&&(p=!0));for(g=new a.ModelPager,g.isNext=!0,g.classList.push(i.classNamesPager.base,i.classNamesPager.next),t.newPagination.page!==t.newTotalPages||i.config.pagination.loop||g.classList.push(i.classNamesPager.disabled),g.classNames=g.classList.join(" "),s=r?r(g):e.template(i.config.templates.pagerNext)(g),o.push(s),f=o.join(" "),i.dom.pageList.innerHTML=f,m=i.dom.pageList.querySelectorAll("."+i.classNamesPager.disabled),u=0;P=m[u];u++)"boolean"==typeof P.disabled&&(P.disabled=!0);c||p?e.addClass(i.dom.pageList,i.classNamesPageList.truncated):e.removeClass(i.dom.pageList,i.classNamesPageList.truncated),t.newTotalPages>1?e.removeClass(i.dom.pageList,i.classNamesPageList.disabled):e.addClass(i.dom.pageList,i.classNamesPageList.disabled)},getAllowedIndices:function(a){var t=this,e=a.newPagination.page-1,i=a.newTotalPages-1,n=[],s=-1,o=-1,g=-1,r=-1,l=-1,c=-1,p=-1;for(n.push(0),s=t.config.pagination.maxPagers-2,o=Math.ceil((s-1)/2),g=Math.floor((s-1)/2),r=e-o,l=e+g,c=0,r<1&&(c=1-r),l>i-1&&(c=i-1-l),p=r+c;s;)n.push(p),p++,s--;return n.push(i),n},renderPager:function(t,i,n){var s=this,o=null,g=i.newPagination.page-1,r=new a.ModelPager,l="";return s.config.pagination.maxPagers<1/0&&n.length&&n.indexOf(t)<0?"":(o="function"==typeof(o=s.config.render.pager)?o:null,r.isPageLink=!0,r.classList.push(s.classNamesPager.base),0===t&&r.classList.push(s.classNamesPager.first),t===i.newTotalPages-1&&r.classList.push(s.classNamesPager.last),t===g&&r.classList.push(s.classNamesPager.active),r.classNames=r.classList.join(" "),r.pageNumber=t+1,l=o?o(r):e.template(s.config.templates.pager)(r))},renderPageStats:function(t){var i=this,n=new a.ModelPageStats,s=null,o="",g="";return t.newPagination.limit<0||t.newPagination.limit===1/0||t.newTotalPages<2&&i.config.pagination.hidePageStatsIfSinglePage?(i.dom.pageStats.innerHTML="",void e.addClass(i.dom.pageStats,i.classNamesPageStats.disabled)):(s="function"==typeof(s=i.config.render.pageStats)?s:null,n.totalTargets=t.matching.length,g=n.totalTargets?1===t.newPagination.limit?i.config.templates.pageStatsSingle:i.config.templates.pageStats:i.config.templates.pageStatsFail,n.totalTargets&&t.newPagination.limit>0?(n.startPageAt=(t.newPagination.page-1)*t.newPagination.limit+1,n.endPageAt=Math.min(n.startPageAt+t.newPagination.limit-1,n.totalTargets)):n.startPageAt=n.endPageAt=0,o=s?s(n):e.template(g)(n),i.dom.pageStats.innerHTML=o,void(n.totalTargets?e.removeClass(i.dom.pageStats,i.classNamesPageStats.disabled):e.addClass(i.dom.pageStats,i.classNamesPageStats.disabled)))},parsePaginateArgs:function(t){var i=this,n=new a.UserInstruction,s=null,o=-1;for(n.animate=i.config.animation.enable,n.command=new a.CommandPaginate,o=0;o<t.length;o++)s=t[o],null!==s&&("object"==typeof s&&e.isElement(s,i.dom.document)?n.command.anchor=s:s instanceof a.CommandPaginate||"object"==typeof s?e.extend(n.command,s):"number"==typeof s?n.command.page=s:"string"!=typeof s||isNaN(parseInt(s))?"string"==typeof s?n.command.action=s:"boolean"==typeof s?n.animate=s:"function"==typeof s&&(n.callback=s):n.command.page=parseInt(s));return e.freeze(n),n},paginate:function(){var a=this,t=a.parsePaginateArgs(arguments);return a.multimix({paginate:t.command},t.animate,t.callback)},nextPage:function(){var a=this,t=a.parsePaginateArgs(arguments);return a.multimix({paginate:{action:"next"}},t.animate,t.callback)},prevPage:function(){var a=this,t=a.parsePaginateArgs(arguments);return a.multimix({paginate:{action:"prev"}},t.animate,t.callback)}}),a.Facade.registerAction("afterConstruct","pagination",function(a){this.paginate=a.paginate.bind(a),this.nextPage=a.nextPage.bind(a),this.prevPage=a.prevPage.bind(a)})};if(t.TYPE="mixitup-extension",t.NAME="mixitup-pagination",t.EXTENSION_VERSION="3.1.0",t.REQUIRE_CORE_VERSION="^3.1.2","object"==typeof exports&&"object"==typeof module)module.exports=t;else if("function"==typeof define&&define.amd)define(function(){return t});else{if(!a.mixitup||"function"!=typeof a.mixitup)throw new Error("[MixItUp Pagination] MixItUp core not found");t(a.mixitup)}}(window);